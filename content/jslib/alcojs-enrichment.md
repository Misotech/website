# Обогащение данными

Сгенерировав событие `{name: "ping"}`, мы молучим

```json
{
  // Название события
  "name": "ping",
  // Идентификатор сайта или чего-то другого. Назначается при установке кода
  "projectId": 1,
  // Межсайтовый user-id Rockstat
  "uid": "4752253121879771366",
  // Это данные события "Field change", у других другие
  "data": {},
  // Информация о пользователе
  "user": {
    // id посетителя из Google Analytics и Yandex Metrika
    "gaId": "349777458.1984110030",
    "ymId": "1513110030702009110",
    // id пользователя с сайта, на котором установлен счетчик. Устанавливается через indentify
    "id": "Neiw7kaireiThohYo7ath5",
    // Произвольные идентификационные данные с сайта, которые в дальнейшем могут пригодиться.
    // Привязываются через js api, хранятся у посетителя в браузере (localStorage)
    "traits": {
      "transactionId": "your_user_transaction_id",
      "userSegment": "some_segment",
      //....
    }
  },
  // Информация о странице
  "page": {
    // полный адрес страницы c запросом и якорем
    "url": "https://oooooo.ru/checkout/form?aaa=bbb&c=who",
    // реферер / прерыдущая страница
    "referrer": "https://oooooo.ru/cart",
    // часть адреса страницы | путь
    "title": "На этом месте был совершенно типовой заголовок",
    // протокол
    "proto": "https"
  },
  // Данные сессии
  "session": {
    // Идентификатор крупного игрока рынка
    "session_engine": "google",
    // Номер события за текущий визит (страницы не считаются)
    "session_eventNum": 183,
    // Тут могли бы быть ваши рекламные метки
    "session_marks": {
      // Например флаг, что имеется gclid
      "has_gclid": 1
    },
    "session_hasMarks": 0,    
    // Номер визита этого пользователя
    "session_num": 2,
    // Номер просмотра страницы за эту сессию
    "session_pageNum": 18,						
    // Домен реферера
    "session_refHost": "google.ru",   
    // Время начала сессии
    "session_start": "1518857893459",
    // Тип визита
    "session_type": "organic"
  },
  // Информация о версии бибилиотеки Rockstat которая использовалась для сбора данных
  "library": {
    "name": "alco.js",
    "libver": 104,
    "snippet": 1
  },
  // Блок информации о клиенте (браузере)
  "client": {
    // Время у посетителя в браузере
    "ts": 1518872176934,
    // Тестовый часовой пояс
    "tz": "MSK",
    // Смещение времени относительно UTC (мировое координационное время)
    "tzOffset": 180000,
    // Платформа компьютера
    "platform": "MacIntel",
    // Все кроме IE пишут так
    "product": "Gecko"
  },
  // Статус полезных функций браузера
  "cf": {
    // localstorage
    "locstor": true,
    // addEventListener
    "addel": true,
    // Promise
    "promise": true,
    // sendBeacon
    "sbeacon": true,
    // base64
    "atob": true,
  },
  "browser": {
    // детектор iframe (можно вычислять мошенничество)
    "if": [0, 2],
    // Размер окна браузера
    "wh": {
      "w": 1440,
      "h": 330
    },
    "sr": {
      // разрешение экрана
      "tot": {
        "w": 1440,
        "h": 900
      },
      // доступная часть экрана (макс размер браузера)
      "avail": {
        "w": 1440,
        "h": 837
      },
      // уплотнение экрана (retina и тп)
      "asp": 2000,
      // угол поворота (для мобилок)
      "oAngle": 0,
      // положение экрана
      "oType": "landscape-primary"
    }
  },
  // Информация о положении на странице в момент происхождения события
  // нет у session, pageview, Page loaded
  "scroll": {
    // высота документа
    "docHeight": 1999,
    // высота окна
    "clientHeight": 330,
    // скролл в пикселях
    "topOffset": 0,
    // текущий скролл
    "scroll": 0,
    //Максимальный скролл
    "maxScroll": 100
    // C помошью этих данных довольно легко можно определить, где именно находился посетитель
  },
  // Данные о скорости загрузки, ms. Есть в событиях "pageview" и "Page loaded"
  // Подробная информация: https://developer.mozilla.org/en-US/docs/Web/API/PerformanceTiming
  "perf": {
    // connect start: точка отсчета, всегда 0
    "cs": 0,
    // connect end: время завершения подключения в случае ошибки
    "ce": 0,
    // secure сonnection start:
    "scs": -1,
    // request start: отправка запроса на сервер
    "rqs": 2,
    // response start: начало передачи html с сервера
    "rss": 37,
    // response end: содержимое страницы получено
    "rse": 44,
    // dom loading: начало обработки html и загрузки js
    "dl": 53,
    // dom interactive: загружены html и js, страница готова
    "di": 227,
    // dom complete: загружены все картинки и стили, загрузка полностью завершена
    "dc": 481
  }
}
```
