{"data":"<h1 id=\"-band\">Микросервисная архитектура с Band</h1>\n<h2 id=\"-\">Протокол взаимодействия</h2>\n<h3 id=\"json-rpc2-over-redis-pubsub\">JSON-RPC2 over Redis PubSub</h3>\n<p>Структура сообщения</p>\n<p>Обрабатывается библиотеками, в функции передается только результат</p>\n<h3 id=\"-frontier-service\">Ответы к Frontier service</h3>\n<pre><code class=\"language-typescript\">\ninterface DispatchResult {\n  location?: string;\n  error?: string;\n  errorCode?: number;\n  [k: string]: any;\n}\n</code></pre>\n<p>Обработка результата:</p>\n<ol>\n<li>Если имеется error, будет возвращена ошибка с http кодом из <code>errorCode</code> или подставлен кол по умолочанию <code>500</code></li>\n<li>Если имеется <code>location</code> будет совершен редирект в эту локацию. Всегда используется <code>302</code> код</li>\n<li>Во всех остальных случаях ответ будет возвращен полностью</li>\n</ol>\n"}