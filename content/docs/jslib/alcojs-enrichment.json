{"data":"<h1 id=\"-\">Обогащение данными</h1>\n<p>Сгенерировав событие <code>{name: &quot;ping&quot;}</code>, мы молучим</p>\n<pre><code class=\"language-json\">{\n  // Название события\n  &quot;name&quot;: &quot;ping&quot;,\n  // Идентификатор сайта или чего-то другого. Назначается при установке кода\n  &quot;projectId&quot;: 1,\n  // Межсайтовый user-id Rockstat\n  &quot;uid&quot;: &quot;4752253121879771366&quot;,\n  // Это данные события &quot;Field change&quot;, у других другие\n  &quot;data&quot;: {},\n  // Информация о пользователе\n  &quot;user&quot;: {\n    // id посетителя из Google Analytics и Yandex Metrika\n    &quot;gaId&quot;: &quot;349777458.1984110030&quot;,\n    &quot;ymId&quot;: &quot;1513110030702009110&quot;,\n    // id пользователя с сайта, на котором установлен счетчик. Устанавливается через indentify\n    &quot;id&quot;: &quot;Neiw7kaireiThohYo7ath5&quot;,\n    // Произвольные идентификационные данные с сайта, которые в дальнейшем могут пригодиться.\n    // Привязываются через js api, хранятся у посетителя в браузере (localStorage)\n    &quot;traits&quot;: {\n      &quot;transactionId&quot;: &quot;your_user_transaction_id&quot;,\n      &quot;userSegment&quot;: &quot;some_segment&quot;,\n      //....\n    }\n  },\n  // Информация о странице\n  &quot;page&quot;: {\n    // полный адрес страницы c запросом и якорем\n    &quot;url&quot;: &quot;https://oooooo.ru/checkout/form?aaa=bbb&amp;c=who&quot;,\n    // реферер / прерыдущая страница\n    &quot;referrer&quot;: &quot;https://oooooo.ru/cart&quot;,\n    // часть адреса страницы | путь\n    &quot;title&quot;: &quot;На этом месте был совершенно типовой заголовок&quot;,\n    // протокол\n    &quot;proto&quot;: &quot;https&quot;\n  },\n  // Данные сессии\n  &quot;session&quot;: {\n    // Идентификатор крупного игрока рынка\n    &quot;session_engine&quot;: &quot;google&quot;,\n    // Номер события за текущий визит (страницы не считаются)\n    &quot;session_eventNum&quot;: 183,\n    // Тут могли бы быть ваши рекламные метки\n    &quot;session_marks&quot;: {\n      // Например флаг, что имеется gclid\n      &quot;has_gclid&quot;: 1\n    },\n    &quot;session_hasMarks&quot;: 0,    \n    // Номер визита этого пользователя\n    &quot;session_num&quot;: 2,\n    // Номер просмотра страницы за эту сессию\n    &quot;session_pageNum&quot;: 18,                        \n    // Домен реферера\n    &quot;session_refHost&quot;: &quot;google.ru&quot;,   \n    // Время начала сессии\n    &quot;session_start&quot;: &quot;1518857893459&quot;,\n    // Тип визита\n    &quot;session_type&quot;: &quot;organic&quot;\n  },\n  // Информация о версии бибилиотеки Rockstat которая использовалась для сбора данных\n  &quot;library&quot;: {\n    &quot;name&quot;: &quot;alco.js&quot;,\n    &quot;libver&quot;: 104,\n    &quot;snippet&quot;: 1\n  },\n  // Блок информации о клиенте (браузере)\n  &quot;client&quot;: {\n    // Время у посетителя в браузере\n    &quot;ts&quot;: 1518872176934,\n    // Тестовый часовой пояс\n    &quot;tz&quot;: &quot;MSK&quot;,\n    // Смещение времени относительно UTC (мировое координационное время)\n    &quot;tzOffset&quot;: 180000,\n    // Платформа компьютера\n    &quot;platform&quot;: &quot;MacIntel&quot;,\n    // Все кроме IE пишут так\n    &quot;product&quot;: &quot;Gecko&quot;\n  },\n  // Статус полезных функций браузера\n  &quot;cf&quot;: {\n    // localstorage\n    &quot;locstor&quot;: true,\n    // addEventListener\n    &quot;addel&quot;: true,\n    // Promise\n    &quot;promise&quot;: true,\n    // sendBeacon\n    &quot;sbeacon&quot;: true,\n    // base64\n    &quot;atob&quot;: true,\n  },\n  &quot;browser&quot;: {\n    // детектор iframe (можно вычислять мошенничество)\n    &quot;if&quot;: [0, 2],\n    // Размер окна браузера\n    &quot;wh&quot;: {\n      &quot;w&quot;: 1440,\n      &quot;h&quot;: 330\n    },\n    &quot;sr&quot;: {\n      // разрешение экрана\n      &quot;tot&quot;: {\n        &quot;w&quot;: 1440,\n        &quot;h&quot;: 900\n      },\n      // доступная часть экрана (макс размер браузера)\n      &quot;avail&quot;: {\n        &quot;w&quot;: 1440,\n        &quot;h&quot;: 837\n      },\n      // уплотнение экрана (retina и тп)\n      &quot;asp&quot;: 2000,\n      // угол поворота (для мобилок)\n      &quot;oAngle&quot;: 0,\n      // положение экрана\n      &quot;oType&quot;: &quot;landscape-primary&quot;\n    }\n  },\n  // Информация о положении на странице в момент происхождения события\n  // нет у session, pageview, Page loaded\n  &quot;scroll&quot;: {\n    // высота документа\n    &quot;docHeight&quot;: 1999,\n    // высота окна\n    &quot;clientHeight&quot;: 330,\n    // скролл в пикселях\n    &quot;topOffset&quot;: 0,\n    // текущий скролл\n    &quot;scroll&quot;: 0,\n    //Максимальный скролл\n    &quot;maxScroll&quot;: 100\n    // C помошью этих данных довольно легко можно определить, где именно находился посетитель\n  },\n  // Данные о скорости загрузки, ms. Есть в событиях &quot;pageview&quot; и &quot;Page loaded&quot;\n  // Подробная информация: https://developer.mozilla.org/en-US/docs/Web/API/PerformanceTiming\n  &quot;perf&quot;: {\n    // connect start: точка отсчета, всегда 0\n    &quot;cs&quot;: 0,\n    // connect end: время завершения подключения в случае ошибки\n    &quot;ce&quot;: 0,\n    // secure сonnection start:\n    &quot;scs&quot;: -1,\n    // request start: отправка запроса на сервер\n    &quot;rqs&quot;: 2,\n    // response start: начало передачи html с сервера\n    &quot;rss&quot;: 37,\n    // response end: содержимое страницы получено\n    &quot;rse&quot;: 44,\n    // dom loading: начало обработки html и загрузки js\n    &quot;dl&quot;: 53,\n    // dom interactive: загружены html и js, страница готова\n    &quot;di&quot;: 227,\n    // dom complete: загружены все картинки и стили, загрузка полностью завершена\n    &quot;dc&quot;: 481\n  }\n}</code></pre>\n"}