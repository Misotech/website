{
  "bodyContent": "# Обогащение данными\n\nСгенерировав событие `{name: \"ping\"}`, мы молучим\n\n```json\n{\n  // Название события\n  \"name\": \"ping\",\n  // Идентификатор сайта или чего-то другого. Назначается при установке кода\n  \"projectId\": 1,\n  // Межсайтовый user-id Rockstat\n  \"uid\": \"4752253121879771366\",\n  // Это данные события \"Field change\", у других другие\n  \"data\": {},\n  // Информация о пользователе\n  \"user\": {\n    // id посетителя из Google Analytics и Yandex Metrika\n    \"gaId\": \"349777458.1984110030\",\n    \"ymId\": \"1513110030702009110\",\n    // id пользователя с сайта, на котором установлен счетчик. Устанавливается через indentify\n    \"id\": \"Neiw7kaireiThohYo7ath5\",\n    // Произвольные идентификационные данные с сайта, которые в дальнейшем могут пригодиться.\n    // Привязываются через js api, хранятся у посетителя в браузере (localStorage)\n    \"traits\": {\n      \"transactionId\": \"your_user_transaction_id\",\n      \"userSegment\": \"some_segment\",\n      //....\n    }\n  },\n  // Информация о странице\n  \"page\": {\n    // полный адрес страницы c запросом и якорем\n    \"url\": \"https://oooooo.ru/checkout/form?aaa=bbb&c=who\",\n    // реферер / прерыдущая страница\n    \"referrer\": \"https://oooooo.ru/cart\",\n    // часть адреса страницы | путь\n    \"title\": \"На этом месте был совершенно типовой заголовок\",\n    // протокол\n    \"proto\": \"https\"\n  },\n  // Данные сессии\n  \"session\": {\n    // Идентификатор крупного игрока рынка\n    \"session_engine\": \"google\",\n    // Номер события за текущий визит (страницы не считаются)\n    \"session_eventNum\": 183,\n    // Тут могли бы быть ваши рекламные метки\n    \"session_marks\": {\n      // Например флаг, что имеется gclid\n      \"has_gclid\": 1\n    },\n    \"session_hasMarks\": 0,    \n    // Номер визита этого пользователя\n    \"session_num\": 2,\n    // Номер просмотра страницы за эту сессию\n    \"session_pageNum\": 18,\t\t\t\t\t\t\n    // Домен реферера\n    \"session_refHost\": \"google.ru\",   \n    // Время начала сессии\n    \"session_start\": \"1518857893459\",\n    // Тип визита\n    \"session_type\": \"organic\"\n  },\n  // Информация о версии бибилиотеки Rockstat которая использовалась для сбора данных\n  \"library\": {\n    \"name\": \"alco.js\",\n    \"libver\": 104,\n    \"snippet\": 1\n  },\n  // Блок информации о клиенте (браузере)\n  \"client\": {\n    // Время у посетителя в браузере\n    \"ts\": 1518872176934,\n    // Тестовый часовой пояс\n    \"tz\": \"MSK\",\n    // Смещение времени относительно UTC (мировое координационное время)\n    \"tzOffset\": 180000,\n    // Платформа компьютера\n    \"platform\": \"MacIntel\",\n    // Все кроме IE пишут так\n    \"product\": \"Gecko\"\n  },\n  // Статус полезных функций браузера\n  \"cf\": {\n    // localstorage\n    \"locstor\": true,\n    // addEventListener\n    \"addel\": true,\n    // Promise\n    \"promise\": true,\n    // sendBeacon\n    \"sbeacon\": true,\n    // base64\n    \"atob\": true,\n  },\n  \"browser\": {\n    // детектор iframe (можно вычислять мошенничество)\n    \"if\": [0, 2],\n    // Размер окна браузера\n    \"wh\": {\n      \"w\": 1440,\n      \"h\": 330\n    },\n    \"sr\": {\n      // разрешение экрана\n      \"tot\": {\n        \"w\": 1440,\n        \"h\": 900\n      },\n      // доступная часть экрана (макс размер браузера)\n      \"avail\": {\n        \"w\": 1440,\n        \"h\": 837\n      },\n      // уплотнение экрана (retina и тп)\n      \"asp\": 2000,\n      // угол поворота (для мобилок)\n      \"oAngle\": 0,\n      // положение экрана\n      \"oType\": \"landscape-primary\"\n    }\n  },\n  // Информация о положении на странице в момент происхождения события\n  // нет у session, pageview, Page loaded\n  \"scroll\": {\n    // высота документа\n    \"docHeight\": 1999,\n    // высота окна\n    \"clientHeight\": 330,\n    // скролл в пикселях\n    \"topOffset\": 0,\n    // текущий скролл\n    \"scroll\": 0,\n    //Максимальный скролл\n    \"maxScroll\": 100\n    // C помошью этих данных довольно легко можно определить, где именно находился посетитель\n  },\n  // Данные о скорости загрузки, ms. Есть в событиях \"pageview\" и \"Page loaded\"\n  // Подробная информация: https://developer.mozilla.org/en-US/docs/Web/API/PerformanceTiming\n  \"perf\": {\n    // connect start: точка отсчета, всегда 0\n    \"cs\": 0,\n    // connect end: время завершения подключения в случае ошибки\n    \"ce\": 0,\n    // secure сonnection start:\n    \"scs\": -1,\n    // request start: отправка запроса на сервер\n    \"rqs\": 2,\n    // response start: начало передачи html с сервера\n    \"rss\": 37,\n    // response end: содержимое страницы получено\n    \"rse\": 44,\n    // dom loading: начало обработки html и загрузки js\n    \"dl\": 53,\n    // dom interactive: загружены html и js, страница готова\n    \"di\": 227,\n    // dom complete: загружены все картинки и стили, загрузка полностью завершена\n    \"dc\": 481\n  }\n}\n```",
  "bodyHtml": "<h1>Обогащение данными</h1>\n<p>Сгенерировав событие <code>{name: &quot;ping&quot;}</code>, мы молучим</p>\n<pre><code class=\"hljs\">{\n  // Название события\n  \"name\": \"ping\",\n  // Идентификатор сайта или чего-то другого. Назначается при установке кода\n  \"projectId\": 1,\n  // Межсайтовый user-id Rockstat\n  \"uid\": \"4752253121879771366\",\n  // Это данные события \"Field change\", у других другие\n  \"data\": {},\n  // Информация о пользователе\n  \"user\": {\n    // id посетителя из Google Analytics и Yandex Metrika\n    \"gaId\": \"349777458.1984110030\",\n    \"ymId\": \"1513110030702009110\",\n    // id пользователя с сайта, на котором установлен счетчик. Устанавливается через indentify\n    \"id\": \"Neiw7kaireiThohYo7ath5\",\n    // Произвольные идентификационные данные с сайта, которые в дальнейшем могут пригодиться.\n    // Привязываются через js api, хранятся у посетителя в браузере (localStorage)\n    \"traits\": {\n      \"transactionId\": \"your_user_transaction_id\",\n      \"userSegment\": \"some_segment\",\n      //....\n    }\n  },\n  // Информация о странице\n  \"page\": {\n    // полный адрес страницы c запросом и якорем\n    \"url\": \"https://oooooo.ru/checkout/form?aaa=bbb&amp;c=who\",\n    // реферер / прерыдущая страница\n    \"referrer\": \"https://oooooo.ru/cart\",\n    // часть адреса страницы | путь\n    \"title\": \"На этом месте был совершенно типовой заголовок\",\n    // протокол\n    \"proto\": \"https\"\n  },\n  // Данные сессии\n  \"session\": {\n    // Идентификатор крупного игрока рынка\n    \"session_engine\": \"google\",\n    // Номер события за текущий визит (страницы не считаются)\n    \"session_eventNum\": 183,\n    // Тут могли бы быть ваши рекламные метки\n    \"session_marks\": {\n      // Например флаг, что имеется gclid\n      \"has_gclid\": 1\n    },\n    \"session_hasMarks\": 0,    \n    // Номер визита этого пользователя\n    \"session_num\": 2,\n    // Номер просмотра страницы за эту сессию\n    \"session_pageNum\": 18,\t\t\t\t\t\t\n    // Домен реферера\n    \"session_refHost\": \"google.ru\",   \n    // Время начала сессии\n    \"session_start\": \"1518857893459\",\n    // Тип визита\n    \"session_type\": \"organic\"\n  },\n  // Информация о версии бибилиотеки Rockstat которая использовалась для сбора данных\n  \"library\": {\n    \"name\": \"alco.js\",\n    \"libver\": 104,\n    \"snippet\": 1\n  },\n  // Блок информации о клиенте (браузере)\n  \"client\": {\n    // Время у посетителя в браузере\n    \"ts\": 1518872176934,\n    // Тестовый часовой пояс\n    \"tz\": \"MSK\",\n    // Смещение времени относительно UTC (мировое координационное время)\n    \"tzOffset\": 180000,\n    // Платформа компьютера\n    \"platform\": \"MacIntel\",\n    // Все кроме IE пишут так\n    \"product\": \"Gecko\"\n  },\n  // Статус полезных функций браузера\n  \"cf\": {\n    // localstorage\n    \"locstor\": true,\n    // addEventListener\n    \"addel\": true,\n    // Promise\n    \"promise\": true,\n    // sendBeacon\n    \"sbeacon\": true,\n    // base64\n    \"atob\": true,\n  },\n  \"browser\": {\n    // детектор iframe (можно вычислять мошенничество)\n    \"if\": [0, 2],\n    // Размер окна браузера\n    \"wh\": {\n      \"w\": 1440,\n      \"h\": 330\n    },\n    \"sr\": {\n      // разрешение экрана\n      \"tot\": {\n        \"w\": 1440,\n        \"h\": 900\n      },\n      // доступная часть экрана (макс размер браузера)\n      \"avail\": {\n        \"w\": 1440,\n        \"h\": 837\n      },\n      // уплотнение экрана (retina и тп)\n      \"asp\": 2000,\n      // угол поворота (для мобилок)\n      \"oAngle\": 0,\n      // положение экрана\n      \"oType\": \"landscape-primary\"\n    }\n  },\n  // Информация о положении на странице в момент происхождения события\n  // нет у session, pageview, Page loaded\n  \"scroll\": {\n    // высота документа\n    \"docHeight\": 1999,\n    // высота окна\n    \"clientHeight\": 330,\n    // скролл в пикселях\n    \"topOffset\": 0,\n    // текущий скролл\n    \"scroll\": 0,\n    //Максимальный скролл\n    \"maxScroll\": 100\n    // C помошью этих данных довольно легко можно определить, где именно находился посетитель\n  },\n  // Данные о скорости загрузки, ms. Есть в событиях \"pageview\" и \"Page loaded\"\n  // Подробная информация: https://developer.mozilla.org/en-US/docs/Web/API/PerformanceTiming\n  \"perf\": {\n    // connect start: точка отсчета, всегда 0\n    \"cs\": 0,\n    // connect end: время завершения подключения в случае ошибки\n    \"ce\": 0,\n    // secure сonnection start:\n    \"scs\": -1,\n    // request start: отправка запроса на сервер\n    \"rqs\": 2,\n    // response start: начало передачи html с сервера\n    \"rss\": 37,\n    // response end: содержимое страницы получено\n    \"rse\": 44,\n    // dom loading: начало обработки html и загрузки js\n    \"dl\": 53,\n    // dom interactive: загружены html и js, страница готова\n    \"di\": 227,\n    // dom complete: загружены все картинки и стили, загрузка полностью завершена\n    \"dc\": 481\n  }\n}</code></pre>",
  "preview": "Обогащение данными\n\nСгенерировав событие {name: \"ping\"}, мы молучим\n\n{\n  // Название события\n  \"name\":",
  "title": "Обогащение данными",
  "dir": "content/docs/jslib",
  "base": "alcojs-enrichment.json",
  "ext": ".json",
  "sourceBase": "alcojs-enrichment.md",
  "sourceExt": ".md"
}