{"data":"<h1 id=\"-\">Автоматичексие события</h1>\n<h2 id=\"-\">Старт сессии</h2>\n<p>Сессионные данные общие на все события, у сессии есть только название. Даже data нет</p>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;session&quot;\n  //...\n  &quot;session&quot;: {\n    // подробнее в разделе общей структуры данных и разделе про сессии\n  }\n  //...\n}</code></pre>\n<h2 id=\"-\">Загрузка страницы</h2>\n<p>Просмотры страниц могут дополняться информацией о странице, вроде типа страницы или категории.</p>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;pageview&quot;,\n  //...\n  &quot;data&quot;: {\n    &quot;category&quot;: &quot;content page&quot;,\n    &quot;name&quot;: &quot;delivery&quot;\n  }\n  //...\n  &quot;perf&quot;: {\n    // подробнее в разделе с общей структурой данных\n  }\n  //...\n}</code></pre>\n<h2 id=\"-\">Страница загружена</h2>\n<p>Содержит данные производительности сети и браузера, которые находятся в <code>perf</code> <a href=\"alcojs-data-format\">общей структуры данных</a></p>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;Page loaded&quot;,\n  //...\n  &quot;perf&quot;: {\n    // подробнее в разделе с общей структурой данных\n  }\n  //...\n}</code></pre>\n<h2 id=\"-\">Выгрузка страницы</h2>\n<p>Вызывается при переходе на другую страницу или закрытии браузера/вкладки</p>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;Page unload&quot;,\n  //...\n  &quot;perf&quot;: {\n    // подробнее в разделе с общей структурой данных\n  }\n  //...\n}</code></pre>\n<h2 id=\"-\">Клики по ссылкам</h2>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;Link click&quot;,\n  //...\n  &quot;data&quot;: {\n    &quot;href&quot;: &quot;https://oooooo....&quot;,\n    &quot;text&quot;: &quot;Текст ссылки&quot;,\n    // Ссылка уводит посетителя на другой сайт\n    &quot;outbound&quot;: true | false\n  }\n  //...\n}</code></pre>\n<h2 id=\"-\">Взаимодействие с полями формы</h2>\n<p>Три события с одинаковым набором параметров: <code>Field focus</code> каретка поставлена в поле ввода <code>Field change</code> в поле поменялись данные <code>Field blur</code> каретка покинула поле ввода</p>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;Field change&quot;,\n  //...\n  &quot;data&quot;: {\n    // Название события DOM.\n    &quot;event&quot;: &quot;change&quot;,\n    // element tag: html тэг элемента формы\n    &quot;etag&quot;: &quot;input&quot;,\n    // element type: атрибут type элемента формы\n    &quot;etype&quot;: &quot;text&quot;,\n    // element name: атрибут name элемента формы\n    &quot;ename&quot;: &quot;delivery_address&quot;, // Название поля формы\n    // element placeholder: атрибут placeholder (значение пока ничего не вписано)\n    &quot;eph&quot;: null,\n    // element class: атрибут class элемента формы (css)\n    &quot;ecl&quot;: &quot;select2-selection form-field&quot;,\n    // element id: атрибут id элемента формы\n    &quot;eid&quot;: &quot;&quot;,\n    // form method: http метрод отправки формы\n    &quot;fmthd&quot;: &quot;post&quot;,\n    // form action: url, куда будет отправлена форма\n    &quot;fact&quot;: &quot;/checkout/purchase&quot;,\n    // form name: атрибут name элемента формы\n    &quot;fname&quot;: &quot;order-form&quot;,\n    // form class: атрибут class элемента формы (css)\n    &quot;fcls&quot;: &quot;&quot;,\n    // element id: атрибут id элемента формы\n    &quot;fid&quot;: &quot;order-form&quot;,\n  }\n  //...\n}</code></pre>\n<p>In case of form tag is absent</p>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;field_change&quot;,\n  //...\n  &quot;data&quot;: {\n    // Название события DOM.\n    &quot;event&quot;: &quot;change&quot;,\n    // element tag: html тэг элемента формы\n    &quot;etag&quot;: &quot;input&quot;,\n    // element type: атрибут type элемента формы\n    &quot;etype&quot;: &quot;text&quot;,\n    // element name: атрибут name элемента формы\n    &quot;ename&quot;: &quot;delivery_address&quot;, // Название поля формы\n    // element placeholder: атрибут placeholder (значение пока ничего не вписано)\n    &quot;eph&quot;: &quot;&quot;,\n    // element class: атрибут class элемента формы (css)\n    &quot;ecl&quot;: &quot;select2-selection form-field&quot;,\n    // element id: атрибут id элемента формы\n    &quot;eid&quot;: &quot;&quot;,\n    // if form not present\n    &quot;ferr&quot;: &quot;Form element absent&quot;\n  }\n  //...\n}</code></pre>\n<p>Это одни из самых важных автоматических событий, по ним можно понимать, где произошел затык</p>\n<h2 id=\"-\">Отправка формы</h2>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;Form submit&quot;,\n  //...\n  &quot;data&quot;: {\n    // DOM событие отправки формы\n    &quot;event&quot;: &quot;submit&quot;,\n    // адрес назначения формы\n    &quot;fact&quot;: &quot;/cart&quot;,\n    // form class: атрибут class элемента формы (css)\n    &quot;fcls&quot;: &quot;cart-submit&quot;,\n    // element id: атрибут id элемента формы\n    &quot;fid&quot;: &quot;cart-submit&quot;,\n    // form method: http метрод отправки формы\n    &quot;fmthd&quot;: &quot;post&quot;,\n    // form name: атрибут name элемента формы\n    &quot;fname&quot;: &quot;cart&quot;\n  }\n  //...\n}</code></pre>\n<p>Еще один важный этап воронки</p>\n<h2 id=\"-\">Скролл / прокрутка</h2>\n<p>Событие прокрутки на определенную позицию страницы. Сами данные скрола находятся в <code>scroll</code> <a href=\"alcojs-data-format\">общей структуры данных</a> и прикладываются ко всем событиям связанными с действиями пользователя.</p>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;Scroll&quot;\n  //...\n  &quot;scroll&quot;: {\n    // подробнее в разделе общей структуры данных\n  }\n  //...\n}</code></pre>\n<h2 id=\"-\">Активность: движение мышью и др...</h2>\n<p>Внутри Rockstat имеется счетчик браузерных событий, который отправляется на сервер через одинаковый интервал времени (по дефолту 5 секунд) и обнуляется. Если активности нет, то событие не отправляется, но добавляется единица к <code>iteration</code>.</p>\n<pre><code class=\"language-json\">{\n  //...\n  &quot;name&quot;: &quot;Activity&quot;,\n  //...\n  &quot;data&quot;: {\n    // Номер итерации обработки активности\n    &quot;iteration&quot;: 65,\n    // Номер итерации содержащей действия (другие 61 были без активности пользователя и не отправлялись)\n    &quot;active&quot;: 4,\n    // Интервал отправки данных об активности, секунд\n    &quot;interval&quot;: 5,\n    // Событий движения мыши\n    &quot;mousemove&quot;: 62,\n    // Событий нажатия кнопки мыши\n    &quot;mousedown&quot;: 2,\n    // Событий отпускания кнопки мыши\n    &quot;mouseup&quot;: 2,\n    // Событий кликов\n    &quot;click&quot;: 2,\n    // Событий прокрутки (именно на уровне мыши/трекпада)\n    &quot;wheel&quot;: 23,\n    // Событий скролла станицы\n    &quot;scroll&quot;: 22\n    // и другие\n  }\n  //...\n}</code></pre>\n<p>Полный список отслеживаемых событий браузера:</p>\n<p><code>touchmove</code>, <code>touchstart</code>, <code>touchleave</code>, <code>touchenter</code>, <code>touchend</code>, <code>touchcancel</code>, <code>click</code>, <code>mouseup</code>, <code>mousedown</code>, <code>mousemove</code>, <code>mousewheel</code>, <code>mousewheel</code>, <code>wheel</code>, <code>scroll</code>, <code>keypress</code>, <code>keydown</code>, <code>keyup</code>, <code>resize</code>, <code>focus</code>, <code>blur</code></p>\n<p>Описание: <a href=\"https://developer.mozilla.org/en-US/docs/Web/Events\">https://developer.mozilla.org/en-US/docs/Web/Events</a>\nЕсли в списке отсутствует какое-то важное событие, напишите в сообществе и оно будет добавлено.</p>\n<pre><code class=\"language-json\"></code></pre>\n"}